import{_ as m,Y as g,$ as y,a0 as n,a2 as d,a3 as a,c as t,V,af as h,aa as c,ae as u,ag as C,ah as k,ai as f,aj as x,K as S,ak as b,ad as B,x as w,al as v,a1 as P,a6 as N,a5 as R,am as L,an as T}from"./index-5eb1b7e5.js";import{V as $}from"./VContainer-bdb1eeae.js";import{V as p,a as A}from"./VRow-528a0d7b.js";const j={__name:"ProductCard",props:{_id:{type:String,default:()=>""},category:{type:String,default:()=>""},description:{type:String,default:()=>""},image:{type:String,default:()=>""},name:{type:String,default:()=>""},price:{type:Number,default:()=>0},sell:{type:Boolean,default:()=>!0}},setup(e){const l=e,o=m(),s=g(),i=async()=>{try{const{data:r}=await B.post("/users/cart",{product:l._id,quantity:1});s.cart=r.result}catch(r){o({text:r.response.data.message,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}};return(r,z)=>{const _=y("RouterLink");return n(),d(b,null,{default:a(()=>[t(V,{src:e.image,cover:"",height:"200"},null,8,["src"]),t(h,null,{default:a(()=>[t(_,{to:"/products/"+e._id,class:"text-primary text-decoration-none"},{default:a(()=>[c(u(e.name),1)]),_:1},8,["to"])]),_:1}),t(C,null,{default:a(()=>[c("$"+u(e.price),1)]),_:1}),t(k,null,{default:a(()=>[f("pre",null,u(e.description),1)]),_:1}),t(x,null,{default:a(()=>[t(S,{color:"primary","prepend-icon":"mdi-cart",onClick:i},{default:a(()=>[c("加入購物車")]),_:1})]),_:1})]),_:1})}}},q=f("h1",null,"購物網",-1),H={__name:"HomeView",setup(e){const l=m(),o=w([]);return(async()=>{try{const{data:s}=await v.get("/products");o.value.push(...s.result)}catch(s){l({text:s.response.data.message,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}})(),(s,i)=>(n(),d($,null,{default:a(()=>[t(A,null,{default:a(()=>[t(p,{cols:"12"},{default:a(()=>[q]),_:1}),(n(!0),P(R,null,N(o.value,r=>(n(),d(p,{cols:"12",md:"6",lg:"3",key:r._id},{default:a(()=>[t(j,L(T(r)),null,16)]),_:2},1024))),128))]),_:1})]),_:1}))}};export{H as default};
