import{_ as m,x as f,ad as V,a0 as l,a2 as k,a3 as n,c as r,au as y,ai as t,a1 as c,a6 as i,a5 as _,ae as s}from"./index-5eb1b7e5.js";import{V as b}from"./VContainer-bdb1eeae.js";import{V as p,a as w}from"./VRow-528a0d7b.js";const g=t("h1",null,"訂單",-1),x=t("thead",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"日期"),t("th",null,"金額"),t("th",null,"商品")])],-1),q={__name:"OrdersView",setup(B){const h=m(),d=f([]);return(async()=>{try{const{data:u}=await V.get("/orders");d.value.push(...u.result.map(o=>(o.total=o.cart.reduce((a,e)=>a+e.product.price*e.quantity,0),o)))}catch(u){h({text:u.response.data.message,showCloseButton:!1,snackbarProps:{timeout:2e3,color:"red",location:"bottom"}})}})(),(u,o)=>(l(),k(b,null,{default:n(()=>[r(w,null,{default:n(()=>[r(p,{cols:"12"},{default:n(()=>[g]),_:1}),r(p,{cols:"12"},{default:n(()=>[r(y,null,{default:n(()=>[x,t("tbody",null,[(l(!0),c(_,null,i(d.value,a=>(l(),c("tr",{key:a._id},[t("td",null,s(a._id),1),t("td",null,s(new Date(a.date).toLocaleString()),1),t("td",null,s(a.total),1),t("td",null,[t("ul",null,[(l(!0),c(_,null,i(a.cart,e=>(l(),c("li",{key:e._id},s(e.product.name)+" * "+s(e.quantity),1))),128))])])]))),128))])]),_:1})]),_:1})]),_:1})]),_:1}))}};export{q as default};
